{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-002841ed\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"score\"\n}, \"Thông tin điểm số\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  class: \"semester\"\n};\nconst _hoisted_3 = {\n  class: \"score-table\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"STT\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Tên môn học\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Số tín chỉ\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Quá trình\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Giữa kì\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Cuối kì\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"TK\")])], -1 /* HOISTED */));\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  key: 0\n};\nconst _hoisted_10 = {\n  key: 0\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"td\", null, null, -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.semesters, (semester, semesterIndex) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: semesterIndex\n    }, [_createElementVNode(\"div\", _hoisted_2, _toDisplayString(`${semester[1]}-${semester[2]}`), 1 /* TEXT */), _createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.scoreLists[semesterIndex], (score, scoreIndex) => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: scoreIndex\n      }, [_createElementVNode(\"td\", null, _toDisplayString(scoreIndex + 1), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(score.subjectName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(score.credit), 1 /* TEXT */), _createElementVNode(\"td\", null, [score.scoreDto && score.scoreDto.length > 0 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, [score.scoreDto[0].scoreColumnName === 'Quá trình' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, _toDisplayString(score.scoreDto[0].scoreValue || \"-\"), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"td\", null, [score.scoreDto && score.scoreDto.length > 1 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_7, [score.scoreDto[1].scoreColumnName === 'Giữa kì' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, _toDisplayString(score.scoreDto[1].scoreValue || \"-\"), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"td\", null, [score.scoreDto && score.scoreDto.length > 2 ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, [score.scoreDto[2].scoreColumnName === 'Cuối kì' ? (_openBlock(), _createElementBlock(\"span\", _hoisted_10, _toDisplayString(score.scoreDto[2].scoreValue || \"-\"), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]), _hoisted_11]);\n    }), 128 /* KEYED_FRAGMENT */))])])]);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"names":["_createElementVNode","class","_createElementBlock","_hoisted_1","_Fragment","_renderList","$setup","semesters","semester","semesterIndex","key","_hoisted_2","_toDisplayString","_hoisted_3","_hoisted_4","scoreLists","score","scoreIndex","subjectName","credit","scoreDto","length","_hoisted_5","scoreColumnName","_hoisted_6","scoreValue","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11"],"sources":["D:\\university\\src\\pages\\student\\score\\index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2 class=\"score\">Thông tin điểm số</h2>\r\n    <div v-for=\"(semester, semesterIndex) in semesters\" :key=\"semesterIndex\">\r\n      <div class=\"semester\">{{ `${semester[1]}-${semester[2]}` }}</div>\r\n      <table class=\"score-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>STT</th>\r\n            <th>Tên môn học</th>\r\n            <th>Số tín chỉ</th>\r\n            <th>Quá trình</th>\r\n            <th>Giữa kì</th>\r\n            <th>Cuối kì</th>\r\n            <th>TK</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(score, scoreIndex) in scoreLists[semesterIndex]\" :key=\"scoreIndex\">\r\n            <td>{{ scoreIndex + 1 }}</td>\r\n            <td>{{ score.subjectName }}</td>\r\n            <td>{{ score.credit }}</td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 0\">\r\n                <span v-if=\"score.scoreDto[0].scoreColumnName === 'Quá trình'\">\r\n                  {{ score.scoreDto[0].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 1\">\r\n                <span v-if=\"score.scoreDto[1].scoreColumnName === 'Giữa kì'\">\r\n                  {{ score.scoreDto[1].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 2\">\r\n                <span v-if=\"score.scoreDto[2].scoreColumnName === 'Cuối kì'\">\r\n                  {{ score.scoreDto[2].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { authApi, endpoints } from '@/configs/Apis';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n     computed: {\r\n    ...mapGetters([\"isAuth\", \"getUser\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      semesters: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.getStudent();\r\n  },\r\n  methods: {\r\n\r\n  },\r\n  setup() {\r\n    const semesters = ref([]);\r\n    const scoreLists = ref([]);\r\n    const err = ref(\"\");\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        const studentUsername = this.getUser.username;\r\n        const response = await authApi().get(\r\n          endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername)\r\n        );\r\n        console.log(\"get-student-by-username\",response.data)\r\n        const studentId = response.data.id;\r\n        const semesterResponse = await authApi().get(\r\n          endpoints[\"semester-student\"] + `?studentId=${studentId}`\r\n        );\r\n\r\n        // Lưu thông tin về semesters vào state\r\n        semesters.value = semesterResponse.data;\r\n\r\n        const scoreListsValue = [];\r\n\r\n        for (const semester of semesterResponse.data) {\r\n          const semesterId = semester[0];\r\n\r\n          const scoreEndpoint =\r\n            endpoints[\"score-list\"] +\r\n            `?studentId=${studentId}&semesterId=${semesterId}`;\r\n          const scoreResponse = await authApi().get(scoreEndpoint);\r\n\r\n          // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\r\n          scoreListsValue.push(scoreResponse.data);\r\n        }\r\n\r\n        // Lưu mảng scoreLists vào state\r\n        scoreLists.value = scoreListsValue;\r\n      } catch (err) {\r\n        err.value = true;\r\n      }\r\n    });\r\n\r\n    return {\r\n      semesters,\r\n      scoreLists,\r\n      err,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Thêm các lớp CSS cho phù hợp với giao diện của bạn tại đây */\r\n</style>\r\n"],"mappings":";;gEAEIA,mBAAA,CAAwC;EAApCC,KAAK,EAAC;AAAO,GAAC,mBAAiB;;EAE5BA,KAAK,EAAC;AAAU;;EACdA,KAAK,EAAC;AAAa;gEACxBD,mBAAA,CAUQ,gB,aATNA,mBAAA,CAQK,a,aAPHA,mBAAA,CAAY,YAAR,KAAG,G,aACPA,mBAAA,CAAoB,YAAhB,aAAW,G,aACfA,mBAAA,CAAmB,YAAf,YAAU,G,aACdA,mBAAA,CAAkB,YAAd,WAAS,G,aACbA,mBAAA,CAAgB,YAAZ,SAAO,G,aACXA,mBAAA,CAAgB,YAAZ,SAAO,G,aACXA,mBAAA,CAAW,YAAP,IAAE,E;;;;;;;;;;;;;;;;;;;iEA6BNA,mBAAA,CAAS;;;uBA1CnBE,mBAAA,CA+CM,cA9CJC,UAAwC,G,kBACxCD,mBAAA,CA4CME,SAAA,QAAAC,WAAA,CA5CmCC,MAAA,CAAAC,SAAS,GAArCC,QAAQ,EAAEC,aAAa;yBAApCP,mBAAA,CA4CM;MA5C+CQ,GAAG,EAAED;IAAa,IACrET,mBAAA,CAAiE,OAAjEW,UAAiE,EAAAC,gBAAA,IAArCJ,QAAQ,OAAOA,QAAQ,uBACnDR,mBAAA,CAyCQ,SAzCRa,UAyCQ,GAxCNC,UAUQ,EACRd,mBAAA,CA4BQ,iB,kBA3BNE,mBAAA,CA0BKE,SAAA,QAAAC,WAAA,CA1B6BC,MAAA,CAAAS,UAAU,CAACN,aAAa,IAA9CO,KAAK,EAAEC,UAAU;2BAA7Bf,mBAAA,CA0BK;QA1ByDQ,GAAG,EAAEO;MAAU,IAC3EjB,mBAAA,CAA6B,YAAAY,gBAAA,CAAtBK,UAAU,sBACjBjB,mBAAA,CAAgC,YAAAY,gBAAA,CAAzBI,KAAK,CAACE,WAAW,kBACxBlB,mBAAA,CAA2B,YAAAY,gBAAA,CAApBI,KAAK,CAACG,MAAM,kBACnBnB,mBAAA,CAMK,aALSgB,KAAK,CAACI,QAAQ,IAAIJ,KAAK,CAACI,QAAQ,CAACC,MAAM,Q,cAAnDnB,mBAAA,CAIO,QAAAoB,UAAA,GAHON,KAAK,CAACI,QAAQ,IAAIG,eAAe,oB,cAA7CrB,mBAAA,CAEO,QAAAsB,UAAA,EAAAZ,gBAAA,CADFI,KAAK,CAACI,QAAQ,IAAIK,UAAU,2B,4EAIrCzB,mBAAA,CAMK,aALSgB,KAAK,CAACI,QAAQ,IAAIJ,KAAK,CAACI,QAAQ,CAACC,MAAM,Q,cAAnDnB,mBAAA,CAIO,QAAAwB,UAAA,GAHOV,KAAK,CAACI,QAAQ,IAAIG,eAAe,kB,cAA7CrB,mBAAA,CAEO,QAAAyB,UAAA,EAAAf,gBAAA,CADFI,KAAK,CAACI,QAAQ,IAAIK,UAAU,2B,4EAIrCzB,mBAAA,CAMK,aALSgB,KAAK,CAACI,QAAQ,IAAIJ,KAAK,CAACI,QAAQ,CAACC,MAAM,Q,cAAnDnB,mBAAA,CAIO,QAAA0B,UAAA,GAHOZ,KAAK,CAACI,QAAQ,IAAIG,eAAe,kB,cAA7CrB,mBAAA,CAEO,QAAA2B,WAAA,EAAAjB,gBAAA,CADFI,KAAK,CAACI,QAAQ,IAAIK,UAAU,2B,4EAIrCK,WAAS,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}