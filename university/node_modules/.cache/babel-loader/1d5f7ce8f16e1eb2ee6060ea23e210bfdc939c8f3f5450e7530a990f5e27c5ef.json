{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router'; // Import router nếu bạn sử dụng Vue Router\nimport Apis from './confids/Apis.js';\nexport default {\n  data() {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n  methods: {\n    async handleLogin() {\n      try {\n        // Gọi API đăng nhập bằng Axios\n        const response = await Apis.post(endpoints.login, {\n          username: this.username,\n          password: this.password\n        });\n\n        // Kiểm tra nếu đăng nhập thành công (dựa vào phản hồi từ API)\n        if (response.data && response.data.token) {\n          // Lưu token vào cookie (sử dụng vue-cookies hoặc phương thức khác)\n          VueCookies.set(\"token\", response.data.token);\n\n          // Gọi API để lấy thông tin người dùng hiện tại (nếu cần)\n          const {\n            data\n          } = await authApi().get(endpoints.currentUser);\n\n          // Lưu thông tin người dùng vào cookie (nếu cần)\n          VueCookies.set(\"user\", JSON.stringify(data));\n\n          // Cập nhật trạng thái đăng nhập (nếu bạn sử dụng Vuex)\n          // this.$store.commit('login', data);\n\n          // Chuyển hướng sau khi đăng nhập thành công (sử dụng Vue Router)\n          this.$router.push('/'); // Chuyển hướng đến trang chính\n        } else {\n          // Xử lý khi đăng nhập không thành công (ví dụ: hiển thị thông báo lỗi)\n          console.error('Đăng nhập không thành công');\n        }\n      } catch (error) {\n        // Xử lý lỗi khi gọi API đăng nhập\n        console.error('Lỗi đăng nhập:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["ref","useRouter","Apis","data","username","password","methods","handleLogin","response","post","endpoints","login","token","VueCookies","set","authApi","get","currentUser","JSON","stringify","$router","push","console","error"],"sources":["D:\\university\\src\\layouts\\login.vue"],"sourcesContent":["<template>\r\n    <Form onSubmit={login} className=\"Auth-form-container\">\r\n        <div className=\"Auth-form\">\r\n            <div className=\"Auth-form-content\">\r\n                <h3 className=\"Auth-form-title\">Đăng nhập</h3>\r\n                <div className=\"form-group mt-3\">\r\n                    <label>Tài khoản</label>\r\n                    <input required value={username} type=\"text\" className=\"form-control mt-1\"\r\n                        placeholder=\"Nhập tài khoản\" />\r\n                </div>\r\n                <div className=\"form-group mt-3\">\r\n                    <label>Mật khẩu</label>\r\n                    <input required value={password} type=\"password\" className=\"form-control mt-1\"\r\n                        placeholder=\"Nhập mật khẩu\" />\r\n                </div>\r\n                <div className=\"d-grid gap-2 mt-3\">\r\n                    <button type=\"submit\" className=\"btn btn-primary\">\r\n                        Đăng nhập\r\n                    </button>\r\n                </div>\r\n                <div className=\"login text-right mt-2\">\r\n                    <div className=\"forgot-password\">\r\n                        Quên\r\n                        <Link to=\"#\">mật khẩu?</Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </Form>\r\n</template>\r\n\r\n<script>\r\n    import { ref } from 'vue';\r\n    import { useRouter } from 'vue-router'; // Import router nếu bạn sử dụng Vue Router\r\n    import Apis from './confids/Apis.js';\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                username: '',\r\n                password: '',\r\n            };\r\n        },\r\n        methods: {\r\n            async handleLogin() {\r\n                try {\r\n                    // Gọi API đăng nhập bằng Axios\r\n                    const response = await Apis.post(endpoints.login, {\r\n                        username: this.username,\r\n                        password: this.password,\r\n                    });\r\n\r\n                    // Kiểm tra nếu đăng nhập thành công (dựa vào phản hồi từ API)\r\n                    if (response.data && response.data.token) {\r\n                        // Lưu token vào cookie (sử dụng vue-cookies hoặc phương thức khác)\r\n                        VueCookies.set(\"token\", response.data.token);\r\n\r\n                        // Gọi API để lấy thông tin người dùng hiện tại (nếu cần)\r\n                        const { data } = await authApi().get(endpoints.currentUser);\r\n\r\n                        // Lưu thông tin người dùng vào cookie (nếu cần)\r\n                        VueCookies.set(\"user\", JSON.stringify(data));\r\n\r\n                        // Cập nhật trạng thái đăng nhập (nếu bạn sử dụng Vuex)\r\n                        // this.$store.commit('login', data);\r\n\r\n                        // Chuyển hướng sau khi đăng nhập thành công (sử dụng Vue Router)\r\n                        this.$router.push('/'); // Chuyển hướng đến trang chính\r\n                    } else {\r\n                        // Xử lý khi đăng nhập không thành công (ví dụ: hiển thị thông báo lỗi)\r\n                        console.error('Đăng nhập không thành công');\r\n                    }\r\n                } catch (error) {\r\n                    // Xử lý lỗi khi gọi API đăng nhập\r\n                    console.error('Lỗi đăng nhập:', error);\r\n                }\r\n            },\r\n        },\r\n\r\n    };\r\n</script>"],"mappings":";AAgCI,SAASA,GAAE,QAAS,KAAK;AACzB,SAASC,SAAQ,QAAS,YAAY,EAAE;AACxC,OAAOC,IAAG,MAAO,mBAAmB;AAEpC,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;IACd,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,WAAWA,CAAA,EAAG;MAChB,IAAI;QACA;QACA,MAAMC,QAAO,GAAI,MAAMN,IAAI,CAACO,IAAI,CAACC,SAAS,CAACC,KAAK,EAAE;UAC9CP,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA;QACnB,CAAC,CAAC;;QAEF;QACA,IAAIG,QAAQ,CAACL,IAAG,IAAKK,QAAQ,CAACL,IAAI,CAACS,KAAK,EAAE;UACtC;UACAC,UAAU,CAACC,GAAG,CAAC,OAAO,EAAEN,QAAQ,CAACL,IAAI,CAACS,KAAK,CAAC;;UAE5C;UACA,MAAM;YAAET;UAAK,IAAI,MAAMY,OAAO,CAAC,CAAC,CAACC,GAAG,CAACN,SAAS,CAACO,WAAW,CAAC;;UAE3D;UACAJ,UAAU,CAACC,GAAG,CAAC,MAAM,EAAEI,IAAI,CAACC,SAAS,CAAChB,IAAI,CAAC,CAAC;;UAE5C;UACA;;UAEA;UACA,IAAI,CAACiB,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC,EAAE;QAC5B,OAAO;UACH;UACAC,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAC;QAC/C;MACJ,EAAE,OAAOA,KAAK,EAAE;QACZ;QACAD,OAAO,CAACC,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MAC1C;IACJ;EACJ;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}