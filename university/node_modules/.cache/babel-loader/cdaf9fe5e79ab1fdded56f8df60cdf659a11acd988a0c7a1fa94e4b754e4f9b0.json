{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted, inject } from \"vue\";\nimport { authApi, endpoints } from '@/configs/Apis';\nimport { mapGetters } from 'vuex';\nexport default {\n  computed: {\n    ...mapGetters([\"isAuth\", \"getUser\"])\n  },\n  setup() {\n    const user = inject(\"user\");\n    const subject = ref([]);\n    const semesters = ref([]);\n    const scoreLists = ref([]);\n    const err = ref(\"\");\n    onMounted(async () => {\n      try {\n        const studentUsername = this.getUser.username;\n        const response = await authApi().get(endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername));\n        const studentId = response.data.id;\n        const semesterResponse = await authApi().get(endpoints[\"semester-student\"] + `?studentId=${studentId}`);\n\n        // Lưu thông tin về semesters vào state\n        semesters.value = semesterResponse.data;\n        const scoreListsValue = [];\n        for (const semester of semesterResponse.data) {\n          const semesterId = semester[0];\n          const scoreEndpoint = endpoints[\"score-list\"] + `?studentId=${studentId}&semesterId=${semesterId}`;\n          const scoreResponse = await authApi().get(scoreEndpoint);\n\n          // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\n          scoreListsValue.push(scoreResponse.data);\n        }\n\n        // Lưu mảng scoreLists vào state\n        scoreLists.value = scoreListsValue;\n      } catch (err) {\n        err.value = true;\n      }\n    });\n    return {\n      semesters,\n      scoreLists,\n      err\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","inject","authApi","endpoints","mapGetters","computed","setup","user","subject","semesters","scoreLists","err","studentUsername","getUser","username","response","get","replace","studentId","data","id","semesterResponse","value","scoreListsValue","semester","semesterId","scoreEndpoint","scoreResponse","push"],"sources":["D:\\university\\src\\pages\\student\\score\\index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2 class=\"score\">Thông tin điểm số</h2>\r\n    <div v-for=\"(semester, semesterIndex) in semesters\" :key=\"semesterIndex\">\r\n      <div class=\"semester\">{{ `${semester[1]}-${semester[2]}` }}</div>\r\n      <table class=\"score-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>STT</th>\r\n            <th>Tên môn học</th>\r\n            <th>Số tín chỉ</th>\r\n            <th>Quá trình</th>\r\n            <th>Giữa kì</th>\r\n            <th>Cuối kì</th>\r\n            <th>TK</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(score, scoreIndex) in scoreLists[semesterIndex]\" :key=\"scoreIndex\">\r\n            <td>{{ scoreIndex + 1 }}</td>\r\n            <td>{{ score.subjectName }}</td>\r\n            <td>{{ score.credit }}</td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 0\">\r\n                <span v-if=\"score.scoreDto[0].scoreColumnName === 'Quá trình'\">\r\n                  {{ score.scoreDto[0].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 1\">\r\n                <span v-if=\"score.scoreDto[1].scoreColumnName === 'Giữa kì'\">\r\n                  {{ score.scoreDto[1].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 2\">\r\n                <span v-if=\"score.scoreDto[2].scoreColumnName === 'Cuối kì'\">\r\n                  {{ score.scoreDto[2].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, inject } from \"vue\";\r\nimport { authApi, endpoints } from '@/configs/Apis';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n     computed: {\r\n    ...mapGetters([\"isAuth\", \"getUser\"]),\r\n  },\r\n  setup() {\r\n    const user = inject(\"user\");\r\n    const subject = ref([]);\r\n    const semesters = ref([]);\r\n    const scoreLists = ref([]);\r\n    const err = ref(\"\");\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        const studentUsername = this.getUser.username;\r\n        const response = await authApi().get(\r\n          endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername)\r\n        );\r\n        const studentId = response.data.id;\r\n        const semesterResponse = await authApi().get(\r\n          endpoints[\"semester-student\"] + `?studentId=${studentId}`\r\n        );\r\n\r\n        // Lưu thông tin về semesters vào state\r\n        semesters.value = semesterResponse.data;\r\n\r\n        const scoreListsValue = [];\r\n\r\n        for (const semester of semesterResponse.data) {\r\n          const semesterId = semester[0];\r\n\r\n          const scoreEndpoint =\r\n            endpoints[\"score-list\"] +\r\n            `?studentId=${studentId}&semesterId=${semesterId}`;\r\n          const scoreResponse = await authApi().get(scoreEndpoint);\r\n\r\n          // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\r\n          scoreListsValue.push(scoreResponse.data);\r\n        }\r\n\r\n        // Lưu mảng scoreLists vào state\r\n        scoreLists.value = scoreListsValue;\r\n      } catch (err) {\r\n        err.value = true;\r\n      }\r\n    });\r\n\r\n    return {\r\n      semesters,\r\n      scoreLists,\r\n      err,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Thêm các lớp CSS cho phù hợp với giao diện của bạn tại đây */\r\n</style>\r\n"],"mappings":";AAoDA,SAASA,GAAG,EAAEC,SAAS,EAAEC,MAAK,QAAS,KAAK;AAC5C,SAASC,OAAO,EAAEC,SAAQ,QAAS,gBAAgB;AACnD,SAASC,UAAS,QAAS,MAAM;AAEjC,eAAe;EACVC,QAAQ,EAAE;IACX,GAAGD,UAAU,CAAC,CAAC,QAAQ,EAAE,SAAS,CAAC;EACrC,CAAC;EACDE,KAAKA,CAAA,EAAG;IACN,MAAMC,IAAG,GAAIN,MAAM,CAAC,MAAM,CAAC;IAC3B,MAAMO,OAAM,GAAIT,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMU,SAAQ,GAAIV,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMW,UAAS,GAAIX,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMY,GAAE,GAAIZ,GAAG,CAAC,EAAE,CAAC;IAEnBC,SAAS,CAAC,YAAY;MACpB,IAAI;QACF,MAAMY,eAAc,GAAI,IAAI,CAACC,OAAO,CAACC,QAAQ;QAC7C,MAAMC,QAAO,GAAI,MAAMb,OAAO,CAAC,CAAC,CAACc,GAAG,CAClCb,SAAS,CAAC,yBAAyB,CAAC,CAACc,OAAO,CAAC,YAAY,EAAEL,eAAe,CAC5E,CAAC;QACD,MAAMM,SAAQ,GAAIH,QAAQ,CAACI,IAAI,CAACC,EAAE;QAClC,MAAMC,gBAAe,GAAI,MAAMnB,OAAO,CAAC,CAAC,CAACc,GAAG,CAC1Cb,SAAS,CAAC,kBAAkB,IAAK,cAAae,SAAU,EAC1D,CAAC;;QAED;QACAT,SAAS,CAACa,KAAI,GAAID,gBAAgB,CAACF,IAAI;QAEvC,MAAMI,eAAc,GAAI,EAAE;QAE1B,KAAK,MAAMC,QAAO,IAAKH,gBAAgB,CAACF,IAAI,EAAE;UAC5C,MAAMM,UAAS,GAAID,QAAQ,CAAC,CAAC,CAAC;UAE9B,MAAME,aAAY,GAChBvB,SAAS,CAAC,YAAY,IACrB,cAAae,SAAU,eAAcO,UAAW,EAAC;UACpD,MAAME,aAAY,GAAI,MAAMzB,OAAO,CAAC,CAAC,CAACc,GAAG,CAACU,aAAa,CAAC;;UAExD;UACAH,eAAe,CAACK,IAAI,CAACD,aAAa,CAACR,IAAI,CAAC;QAC1C;;QAEA;QACAT,UAAU,CAACY,KAAI,GAAIC,eAAe;MACpC,EAAE,OAAOZ,GAAG,EAAE;QACZA,GAAG,CAACW,KAAI,GAAI,IAAI;MAClB;IACF,CAAC,CAAC;IAEF,OAAO;MACLb,SAAS;MACTC,UAAU;MACVC;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}