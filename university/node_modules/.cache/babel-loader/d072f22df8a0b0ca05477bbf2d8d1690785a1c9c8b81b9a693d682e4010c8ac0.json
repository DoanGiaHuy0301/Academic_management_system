{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted, inject } from \"vue\";\nimport { authApi, endpoints } from '@/configs/Apis';\nexport default {\n  computed: {\n    ...mapGetters([\"isAuth\", \"getUser\"]),\n    extractedId() {\n      return this.studentList.length > 0 ? this.studentList[0].classesId?.id || \"N/A\" : \"N/A\";\n    }\n  },\n  setup() {\n    const user = inject(\"user\");\n    const subject = ref([]);\n    const semesters = ref([]);\n    const scoreLists = ref([]);\n    const err = ref(\"\");\n    onMounted(async () => {\n      try {\n        const studentUsername = user.value.username;\n        const response = await authApi().get(endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername));\n        const studentId = response.data.id;\n        const semesterResponse = await authApi().get(endpoints[\"semester-student\"] + `?studentId=${studentId}`);\n\n        // Lưu thông tin về semesters vào state\n        semesters.value = semesterResponse.data;\n        const scoreListsValue = [];\n        for (const semester of semesterResponse.data) {\n          const semesterId = semester[0];\n          const scoreEndpoint = endpoints[\"score-list\"] + `?studentId=${studentId}&semesterId=${semesterId}`;\n          const scoreResponse = await authApi().get(scoreEndpoint);\n\n          // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\n          scoreListsValue.push(scoreResponse.data);\n        }\n\n        // Lưu mảng scoreLists vào state\n        scoreLists.value = scoreListsValue;\n      } catch (err) {\n        err.value = true;\n      }\n    });\n    return {\n      semesters,\n      scoreLists,\n      err\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","inject","authApi","endpoints","computed","mapGetters","extractedId","studentList","length","classesId","id","setup","user","subject","semesters","scoreLists","err","studentUsername","value","username","response","get","replace","studentId","data","semesterResponse","scoreListsValue","semester","semesterId","scoreEndpoint","scoreResponse","push"],"sources":["D:\\university\\src\\pages\\student\\score\\index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2 class=\"score\">Thông tin điểm số</h2>\r\n    <div v-for=\"(semester, semesterIndex) in semesters\" :key=\"semesterIndex\">\r\n      <div class=\"semester\">{{ `${semester[1]}-${semester[2]}` }}</div>\r\n      <table class=\"score-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>STT</th>\r\n            <th>Tên môn học</th>\r\n            <th>Số tín chỉ</th>\r\n            <th>Quá trình</th>\r\n            <th>Giữa kì</th>\r\n            <th>Cuối kì</th>\r\n            <th>TK</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(score, scoreIndex) in scoreLists[semesterIndex]\" :key=\"scoreIndex\">\r\n            <td>{{ scoreIndex + 1 }}</td>\r\n            <td>{{ score.subjectName }}</td>\r\n            <td>{{ score.credit }}</td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 0\">\r\n                <span v-if=\"score.scoreDto[0].scoreColumnName === 'Quá trình'\">\r\n                  {{ score.scoreDto[0].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 1\">\r\n                <span v-if=\"score.scoreDto[1].scoreColumnName === 'Giữa kì'\">\r\n                  {{ score.scoreDto[1].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 2\">\r\n                <span v-if=\"score.scoreDto[2].scoreColumnName === 'Cuối kì'\">\r\n                  {{ score.scoreDto[2].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, inject } from \"vue\";\r\nimport { authApi, endpoints } from '@/configs/Apis';\r\n\r\nexport default {\r\n     computed: {\r\n    ...mapGetters([\"isAuth\", \"getUser\"]),\r\n    extractedId() {\r\n      return this.studentList.length > 0\r\n        ? this.studentList[0].classesId?.id || \"N/A\"\r\n        : \"N/A\";\r\n    },\r\n  },\r\n  setup() {\r\n    const user = inject(\"user\");\r\n    const subject = ref([]);\r\n    const semesters = ref([]);\r\n    const scoreLists = ref([]);\r\n    const err = ref(\"\");\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        const studentUsername = user.value.username;\r\n        const response = await authApi().get(\r\n          endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername)\r\n        );\r\n        const studentId = response.data.id;\r\n        const semesterResponse = await authApi().get(\r\n          endpoints[\"semester-student\"] + `?studentId=${studentId}`\r\n        );\r\n\r\n        // Lưu thông tin về semesters vào state\r\n        semesters.value = semesterResponse.data;\r\n\r\n        const scoreListsValue = [];\r\n\r\n        for (const semester of semesterResponse.data) {\r\n          const semesterId = semester[0];\r\n\r\n          const scoreEndpoint =\r\n            endpoints[\"score-list\"] +\r\n            `?studentId=${studentId}&semesterId=${semesterId}`;\r\n          const scoreResponse = await authApi().get(scoreEndpoint);\r\n\r\n          // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\r\n          scoreListsValue.push(scoreResponse.data);\r\n        }\r\n\r\n        // Lưu mảng scoreLists vào state\r\n        scoreLists.value = scoreListsValue;\r\n      } catch (err) {\r\n        err.value = true;\r\n      }\r\n    });\r\n\r\n    return {\r\n      semesters,\r\n      scoreLists,\r\n      err,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Thêm các lớp CSS cho phù hợp với giao diện của bạn tại đây */\r\n</style>\r\n"],"mappings":";AAoDA,SAASA,GAAG,EAAEC,SAAS,EAAEC,MAAK,QAAS,KAAK;AAC5C,SAASC,OAAO,EAAEC,SAAQ,QAAS,gBAAgB;AAEnD,eAAe;EACVC,QAAQ,EAAE;IACX,GAAGC,UAAU,CAAC,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;IACpCC,WAAWA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACC,WAAW,CAACC,MAAK,GAAI,IAC7B,IAAI,CAACD,WAAW,CAAC,CAAC,CAAC,CAACE,SAAS,EAAEC,EAAC,IAAK,KAAI,GACzC,KAAK;IACX;EACF,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN,MAAMC,IAAG,GAAIX,MAAM,CAAC,MAAM,CAAC;IAC3B,MAAMY,OAAM,GAAId,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMe,SAAQ,GAAIf,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMgB,UAAS,GAAIhB,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMiB,GAAE,GAAIjB,GAAG,CAAC,EAAE,CAAC;IAEnBC,SAAS,CAAC,YAAY;MACpB,IAAI;QACF,MAAMiB,eAAc,GAAIL,IAAI,CAACM,KAAK,CAACC,QAAQ;QAC3C,MAAMC,QAAO,GAAI,MAAMlB,OAAO,CAAC,CAAC,CAACmB,GAAG,CAClClB,SAAS,CAAC,yBAAyB,CAAC,CAACmB,OAAO,CAAC,YAAY,EAAEL,eAAe,CAC5E,CAAC;QACD,MAAMM,SAAQ,GAAIH,QAAQ,CAACI,IAAI,CAACd,EAAE;QAClC,MAAMe,gBAAe,GAAI,MAAMvB,OAAO,CAAC,CAAC,CAACmB,GAAG,CAC1ClB,SAAS,CAAC,kBAAkB,IAAK,cAAaoB,SAAU,EAC1D,CAAC;;QAED;QACAT,SAAS,CAACI,KAAI,GAAIO,gBAAgB,CAACD,IAAI;QAEvC,MAAME,eAAc,GAAI,EAAE;QAE1B,KAAK,MAAMC,QAAO,IAAKF,gBAAgB,CAACD,IAAI,EAAE;UAC5C,MAAMI,UAAS,GAAID,QAAQ,CAAC,CAAC,CAAC;UAE9B,MAAME,aAAY,GAChB1B,SAAS,CAAC,YAAY,IACrB,cAAaoB,SAAU,eAAcK,UAAW,EAAC;UACpD,MAAME,aAAY,GAAI,MAAM5B,OAAO,CAAC,CAAC,CAACmB,GAAG,CAACQ,aAAa,CAAC;;UAExD;UACAH,eAAe,CAACK,IAAI,CAACD,aAAa,CAACN,IAAI,CAAC;QAC1C;;QAEA;QACAT,UAAU,CAACG,KAAI,GAAIQ,eAAe;MACpC,EAAE,OAAOV,GAAG,EAAE;QACZA,GAAG,CAACE,KAAI,GAAI,IAAI;MAClB;IACF,CAAC,CAAC;IAEF,OAAO;MACLJ,SAAS;MACTC,UAAU;MACVC;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}