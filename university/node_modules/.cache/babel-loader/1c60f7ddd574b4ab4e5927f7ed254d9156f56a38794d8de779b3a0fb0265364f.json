{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from \"vue\";\nimport { authApi, endpoints } from '@/configs/Apis';\nimport { mapGetters } from 'vuex';\nexport default {\n  computed: {\n    ...mapGetters([\"isAuth\", \"getUser\"])\n  },\n  data() {\n    return {\n      semesters: [],\n      scoreLists: [],\n      err: \"\"\n    };\n  },\n  created() {\n    this.getStudent();\n  },\n  methods: {},\n  setup() {\n    const semesters = ref([]);\n    const scoreLists = ref([]);\n    const err = ref(\"\");\n    onMounted(async () => {\n      try {\n        const studentUsername = this.getUser.username;\n        const response = await authApi().get(endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername));\n        console.log(\"get-student-by-username\", response.data);\n        const studentId = response.data.id;\n        const semesterResponse = await authApi().get(endpoints[\"semester-student\"] + `?studentId=${studentId}`);\n\n        // Lưu thông tin về semesters vào state\n        semesters.value = semesterResponse.data;\n        const scoreListsValue = [];\n        for (const semester of semesterResponse.data) {\n          const semesterId = semester[0];\n          const scoreEndpoint = endpoints[\"score-list\"] + `?studentId=${studentId}&semesterId=${semesterId}`;\n          const scoreResponse = await authApi().get(scoreEndpoint);\n\n          // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\n          scoreListsValue.push(scoreResponse.data);\n        }\n\n        // Lưu mảng scoreLists vào state\n        scoreLists.value = scoreListsValue;\n      } catch (err) {\n        err.value = true;\n      }\n    });\n    return {\n      semesters,\n      scoreLists,\n      err\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","authApi","endpoints","mapGetters","computed","data","semesters","scoreLists","err","created","getStudent","methods","setup","studentUsername","getUser","username","response","get","replace","console","log","studentId","id","semesterResponse","value","scoreListsValue","semester","semesterId","scoreEndpoint","scoreResponse","push"],"sources":["D:\\university\\src\\pages\\student\\score\\index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2 class=\"score\">Thông tin điểm số</h2>\r\n    <div v-for=\"(semester, semesterIndex) in semesters\" :key=\"semesterIndex\">\r\n      <div class=\"semester\">{{ `${semester[1]}-${semester[2]}` }}</div>\r\n      <table class=\"score-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>STT</th>\r\n            <th>Tên môn học</th>\r\n            <th>Số tín chỉ</th>\r\n            <th>Quá trình</th>\r\n            <th>Giữa kì</th>\r\n            <th>Cuối kì</th>\r\n            <th>TK</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(score, scoreIndex) in scoreLists[semesterIndex]\" :key=\"scoreIndex\">\r\n            <td>{{ scoreIndex + 1 }}</td>\r\n            <td>{{ score.subjectName }}</td>\r\n            <td>{{ score.credit }}</td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 0\">\r\n                <span v-if=\"score.scoreDto[0].scoreColumnName === 'Quá trình'\">\r\n                  {{ score.scoreDto[0].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 1\">\r\n                <span v-if=\"score.scoreDto[1].scoreColumnName === 'Giữa kì'\">\r\n                  {{ score.scoreDto[1].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 2\">\r\n                <span v-if=\"score.scoreDto[2].scoreColumnName === 'Cuối kì'\">\r\n                  {{ score.scoreDto[2].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { authApi, endpoints } from '@/configs/Apis';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n     computed: {\r\n    ...mapGetters([\"isAuth\", \"getUser\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      semesters: [],\r\n      scoreLists: [],\r\n      err: \"\"\r\n    };\r\n  },\r\n  created() {\r\n    this.getStudent();\r\n  },\r\n  methods: {\r\n\r\n  },\r\n  setup() {\r\n    const semesters = ref([]);\r\n    const scoreLists = ref([]);\r\n    const err = ref(\"\");\r\n\r\n    onMounted(async () => {\r\n      try {\r\n        const studentUsername = this.getUser.username;\r\n        const response = await authApi().get(\r\n          endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername)\r\n        );\r\n        console.log(\"get-student-by-username\",response.data)\r\n        const studentId = response.data.id;\r\n        const semesterResponse = await authApi().get(\r\n          endpoints[\"semester-student\"] + `?studentId=${studentId}`\r\n        );\r\n\r\n        // Lưu thông tin về semesters vào state\r\n        semesters.value = semesterResponse.data;\r\n\r\n        const scoreListsValue = [];\r\n\r\n        for (const semester of semesterResponse.data) {\r\n          const semesterId = semester[0];\r\n\r\n          const scoreEndpoint =\r\n            endpoints[\"score-list\"] +\r\n            `?studentId=${studentId}&semesterId=${semesterId}`;\r\n          const scoreResponse = await authApi().get(scoreEndpoint);\r\n\r\n          // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\r\n          scoreListsValue.push(scoreResponse.data);\r\n        }\r\n\r\n        // Lưu mảng scoreLists vào state\r\n        scoreLists.value = scoreListsValue;\r\n      } catch (err) {\r\n        err.value = true;\r\n      }\r\n    });\r\n\r\n    return {\r\n      semesters,\r\n      scoreLists,\r\n      err,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Thêm các lớp CSS cho phù hợp với giao diện của bạn tại đây */\r\n</style>\r\n"],"mappings":";AAoDA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAK;AACpC,SAASC,OAAO,EAAEC,SAAQ,QAAS,gBAAgB;AACnD,SAASC,UAAS,QAAS,MAAM;AAEjC,eAAe;EACVC,QAAQ,EAAE;IACX,GAAGD,UAAU,CAAC,CAAC,QAAQ,EAAE,SAAS,CAAC;EACrC,CAAC;EACDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,UAAU,EAAE,EAAE;MACdC,GAAG,EAAE;IACP,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE,CAET,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN,MAAMN,SAAQ,GAAIP,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMQ,UAAS,GAAIR,GAAG,CAAC,EAAE,CAAC;IAC1B,MAAMS,GAAE,GAAIT,GAAG,CAAC,EAAE,CAAC;IAEnBC,SAAS,CAAC,YAAY;MACpB,IAAI;QACF,MAAMa,eAAc,GAAI,IAAI,CAACC,OAAO,CAACC,QAAQ;QAC7C,MAAMC,QAAO,GAAI,MAAMf,OAAO,CAAC,CAAC,CAACgB,GAAG,CAClCf,SAAS,CAAC,yBAAyB,CAAC,CAACgB,OAAO,CAAC,YAAY,EAAEL,eAAe,CAC5E,CAAC;QACDM,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAACJ,QAAQ,CAACX,IAAI;QACnD,MAAMgB,SAAQ,GAAIL,QAAQ,CAACX,IAAI,CAACiB,EAAE;QAClC,MAAMC,gBAAe,GAAI,MAAMtB,OAAO,CAAC,CAAC,CAACgB,GAAG,CAC1Cf,SAAS,CAAC,kBAAkB,IAAK,cAAamB,SAAU,EAC1D,CAAC;;QAED;QACAf,SAAS,CAACkB,KAAI,GAAID,gBAAgB,CAAClB,IAAI;QAEvC,MAAMoB,eAAc,GAAI,EAAE;QAE1B,KAAK,MAAMC,QAAO,IAAKH,gBAAgB,CAAClB,IAAI,EAAE;UAC5C,MAAMsB,UAAS,GAAID,QAAQ,CAAC,CAAC,CAAC;UAE9B,MAAME,aAAY,GAChB1B,SAAS,CAAC,YAAY,IACrB,cAAamB,SAAU,eAAcM,UAAW,EAAC;UACpD,MAAME,aAAY,GAAI,MAAM5B,OAAO,CAAC,CAAC,CAACgB,GAAG,CAACW,aAAa,CAAC;;UAExD;UACAH,eAAe,CAACK,IAAI,CAACD,aAAa,CAACxB,IAAI,CAAC;QAC1C;;QAEA;QACAE,UAAU,CAACiB,KAAI,GAAIC,eAAe;MACpC,EAAE,OAAOjB,GAAG,EAAE;QACZA,GAAG,CAACgB,KAAI,GAAI,IAAI;MAClB;IACF,CAAC,CAAC;IAEF,OAAO;MACLlB,SAAS;MACTC,UAAU;MACVC;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}