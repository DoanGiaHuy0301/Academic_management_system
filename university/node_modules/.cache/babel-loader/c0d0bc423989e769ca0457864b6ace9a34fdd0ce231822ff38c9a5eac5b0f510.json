{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from \"vue\";\nimport { authApi, endpoints } from '@/configs/Apis';\nimport { mapGetters } from 'vuex';\nexport default {\n  computed: {\n    ...mapGetters([\"isAuth\", \"getUser\"])\n  },\n  data() {\n    return {\n      semesters: [],\n      scoreLists: [],\n      err: \"\"\n    };\n  },\n  created() {\n    this.fetchData();\n  },\n  methods: {\n    async fetchData() {\n      try {\n        const studentUsername = this.getUser.username;\n        const response = await authApi().get(endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername));\n        console.log(\"get-student-by-username\", response.data);\n        const studentId = response.data.id;\n        const semesterResponse = await authApi().get(endpoints[\"semester-student\"] + `?studentId=${studentId}`);\n\n        // Lưu thông tin về semesters vào state\n        this.semesters = semesterResponse.data;\n        console.log();\n        const scoreListsValue = [];\n        for (const semester of semesterResponse.data) {\n          const semesterId = semester[0];\n          const scoreEndpoint = endpoints[\"score-list\"] + `?studentId=${studentId}&semesterId=${semesterId}`;\n          const scoreResponse = await authApi().get(scoreEndpoint);\n\n          // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\n          scoreListsValue.push(scoreResponse.data);\n        }\n\n        // Lưu mảng scoreLists vào state\n        this.scoreLists = scoreListsValue;\n      } catch (err) {\n        err.value = true;\n      }\n    }\n  },\n  setup() {\n    // const semesters = ref([]);\n    // const scoreLists = ref([]);\n    // const err = ref(\"\");\n\n    // onMounted(async () => {\n    //   try {\n    //     const studentUsername = this.getUser.username;\n    //     const response = await authApi().get(\n    //       endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername)\n    //     );\n    //     console.log(\"get-student-by-username\",response.data)\n    //     const studentId = response.data.id;\n    //     const semesterResponse = await authApi().get(\n    //       endpoints[\"semester-student\"] + `?studentId=${studentId}`\n    //     );\n\n    //     // Lưu thông tin về semesters vào state\n    //     semesters.value = semesterResponse.data;\n\n    //     const scoreListsValue = [];\n\n    //     for (const semester of semesterResponse.data) {\n    //       const semesterId = semester[0];\n\n    //       const scoreEndpoint =\n    //         endpoints[\"score-list\"] +\n    //         `?studentId=${studentId}&semesterId=${semesterId}`;\n    //       const scoreResponse = await authApi().get(scoreEndpoint);\n\n    //       // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\n    //       scoreListsValue.push(scoreResponse.data);\n    //     }\n\n    //     // Lưu mảng scoreLists vào state\n    //     scoreLists.value = scoreListsValue;\n    //   } catch (err) {\n    //     err.value = true;\n    //   }\n    // });\n\n    // return {\n    //   semesters,\n    //   scoreLists,\n    //   err,\n    // };\n  }\n};","map":{"version":3,"names":["ref","onMounted","authApi","endpoints","mapGetters","computed","data","semesters","scoreLists","err","created","fetchData","methods","studentUsername","getUser","username","response","get","replace","console","log","studentId","id","semesterResponse","scoreListsValue","semester","semesterId","scoreEndpoint","scoreResponse","push","value","setup"],"sources":["D:\\university\\src\\pages\\student\\score\\index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2 class=\"score\">Thông tin điểm số</h2>\r\n    <div v-for=\"(semester, semesterIndex) in semesters\" :key=\"semesterIndex\">\r\n      <div class=\"semester\">{{ `${semester[1]}-${semester[2]}` }}</div>\r\n      <table class=\"score-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>STT</th>\r\n            <th>Tên môn học</th>\r\n            <th>Số tín chỉ</th>\r\n            <th>Quá trình</th>\r\n            <th>Giữa kì</th>\r\n            <th>Cuối kì</th>\r\n            <th>TK</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"(score, scoreIndex) in scoreLists[semesterIndex]\" :key=\"scoreIndex\">\r\n            <td>{{ scoreIndex + 1 }}</td>\r\n            <td>{{ score.subjectName }}</td>\r\n            <td>{{ score.credit }}</td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 0\">\r\n                <span v-if=\"score.scoreDto[0].scoreColumnName === 'Quá trình'\">\r\n                  {{ score.scoreDto[0].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 1\">\r\n                <span v-if=\"score.scoreDto[1].scoreColumnName === 'Giữa kì'\">\r\n                  {{ score.scoreDto[1].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"score.scoreDto && score.scoreDto.length > 2\">\r\n                <span v-if=\"score.scoreDto[2].scoreColumnName === 'Cuối kì'\">\r\n                  {{ score.scoreDto[2].scoreValue || \"-\" }}\r\n                </span>\r\n              </span>\r\n            </td>\r\n            <td></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { authApi, endpoints } from '@/configs/Apis';\r\nimport { mapGetters } from 'vuex';\r\n\r\nexport default {\r\n     computed: {\r\n    ...mapGetters([\"isAuth\", \"getUser\"]),\r\n  },\r\n  data() {\r\n    return {\r\n      semesters: [],\r\n      scoreLists: [],\r\n      err: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchData();\r\n  },\r\n  methods: {\r\n    async fetchData() {\r\n         try {\r\n        const studentUsername = this.getUser.username;\r\n        const response = await authApi().get(\r\n          endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername)\r\n        );\r\n        console.log(\"get-student-by-username\",response.data)\r\n        const studentId = response.data.id;\r\n        const semesterResponse = await authApi().get(\r\n          endpoints[\"semester-student\"] + `?studentId=${studentId}`\r\n        );\r\n\r\n        // Lưu thông tin về semesters vào state\r\n        this.semesters = semesterResponse.data;\r\n        console.log()\r\n\r\n        const scoreListsValue = [];\r\n\r\n        for (const semester of semesterResponse.data) {\r\n          const semesterId = semester[0];\r\n\r\n          const scoreEndpoint =\r\n            endpoints[\"score-list\"] +\r\n            `?studentId=${studentId}&semesterId=${semesterId}`;\r\n          const scoreResponse = await authApi().get(scoreEndpoint);\r\n\r\n          // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\r\n          scoreListsValue.push(scoreResponse.data);\r\n        }\r\n\r\n        // Lưu mảng scoreLists vào state\r\n        this.scoreLists = scoreListsValue;\r\n      } catch (err) {\r\n        err.value = true;\r\n      }\r\n    }\r\n  },\r\n  setup() {\r\n    // const semesters = ref([]);\r\n    // const scoreLists = ref([]);\r\n    // const err = ref(\"\");\r\n\r\n    // onMounted(async () => {\r\n    //   try {\r\n    //     const studentUsername = this.getUser.username;\r\n    //     const response = await authApi().get(\r\n    //       endpoints[\"get-student-by-username\"].replace(\"{username}\", studentUsername)\r\n    //     );\r\n    //     console.log(\"get-student-by-username\",response.data)\r\n    //     const studentId = response.data.id;\r\n    //     const semesterResponse = await authApi().get(\r\n    //       endpoints[\"semester-student\"] + `?studentId=${studentId}`\r\n    //     );\r\n\r\n    //     // Lưu thông tin về semesters vào state\r\n    //     semesters.value = semesterResponse.data;\r\n\r\n    //     const scoreListsValue = [];\r\n\r\n    //     for (const semester of semesterResponse.data) {\r\n    //       const semesterId = semester[0];\r\n\r\n    //       const scoreEndpoint =\r\n    //         endpoints[\"score-list\"] +\r\n    //         `?studentId=${studentId}&semesterId=${semesterId}`;\r\n    //       const scoreResponse = await authApi().get(scoreEndpoint);\r\n\r\n    //       // Lưu thông tin về điểm số của từng học kỳ vào mảng scoreLists\r\n    //       scoreListsValue.push(scoreResponse.data);\r\n    //     }\r\n\r\n    //     // Lưu mảng scoreLists vào state\r\n    //     scoreLists.value = scoreListsValue;\r\n    //   } catch (err) {\r\n    //     err.value = true;\r\n    //   }\r\n    // });\r\n\r\n    // return {\r\n    //   semesters,\r\n    //   scoreLists,\r\n    //   err,\r\n    // };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Thêm các lớp CSS cho phù hợp với giao diện của bạn tại đây */\r\n</style>\r\n"],"mappings":";AAoDA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAK;AACpC,SAASC,OAAO,EAAEC,SAAQ,QAAS,gBAAgB;AACnD,SAASC,UAAS,QAAS,MAAM;AAEjC,eAAe;EACVC,QAAQ,EAAE;IACX,GAAGD,UAAU,CAAC,CAAC,QAAQ,EAAE,SAAS,CAAC;EACrC,CAAC;EACDE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,UAAU,EAAE,EAAE;MACdC,GAAG,EAAE;IACP,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,SAAS,CAAC,CAAC;EAClB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,SAASA,CAAA,EAAG;MACb,IAAI;QACL,MAAME,eAAc,GAAI,IAAI,CAACC,OAAO,CAACC,QAAQ;QAC7C,MAAMC,QAAO,GAAI,MAAMd,OAAO,CAAC,CAAC,CAACe,GAAG,CAClCd,SAAS,CAAC,yBAAyB,CAAC,CAACe,OAAO,CAAC,YAAY,EAAEL,eAAe,CAC5E,CAAC;QACDM,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAACJ,QAAQ,CAACV,IAAI;QACnD,MAAMe,SAAQ,GAAIL,QAAQ,CAACV,IAAI,CAACgB,EAAE;QAClC,MAAMC,gBAAe,GAAI,MAAMrB,OAAO,CAAC,CAAC,CAACe,GAAG,CAC1Cd,SAAS,CAAC,kBAAkB,IAAK,cAAakB,SAAU,EAC1D,CAAC;;QAED;QACA,IAAI,CAACd,SAAQ,GAAIgB,gBAAgB,CAACjB,IAAI;QACtCa,OAAO,CAACC,GAAG,CAAC;QAEZ,MAAMI,eAAc,GAAI,EAAE;QAE1B,KAAK,MAAMC,QAAO,IAAKF,gBAAgB,CAACjB,IAAI,EAAE;UAC5C,MAAMoB,UAAS,GAAID,QAAQ,CAAC,CAAC,CAAC;UAE9B,MAAME,aAAY,GAChBxB,SAAS,CAAC,YAAY,IACrB,cAAakB,SAAU,eAAcK,UAAW,EAAC;UACpD,MAAME,aAAY,GAAI,MAAM1B,OAAO,CAAC,CAAC,CAACe,GAAG,CAACU,aAAa,CAAC;;UAExD;UACAH,eAAe,CAACK,IAAI,CAACD,aAAa,CAACtB,IAAI,CAAC;QAC1C;;QAEA;QACA,IAAI,CAACE,UAAS,GAAIgB,eAAe;MACnC,EAAE,OAAOf,GAAG,EAAE;QACZA,GAAG,CAACqB,KAAI,GAAI,IAAI;MAClB;IACF;EACF,CAAC;EACDC,KAAKA,CAAA,EAAG;IACN;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;;IAEA;;IAEA;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;EAAA;AAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}